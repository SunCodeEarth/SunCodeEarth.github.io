L.TopoJSON=L.GeoJSON.extend({addData:function(a){let e,t;if("Topology"===a.type){for(t in a.objects)a.objects.hasOwnProperty(t)&&(e=topojson.feature(a,a.objects[t]),L.GeoJSON.prototype.addData.call(this,e));return this}return L.GeoJSON.prototype.addData.call(this,a),this}}),L.topoJson=function(a,e){return new L.TopoJSON(a,e)},String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,(function(e,t){return void 0!==a[t]?a[t]:e}))};let checkStr=String.fromCharCode(10003,32),spaceStr=String.fromCharCode(160,160,160,160);var map=L.map("map",{fullscreenControl:!0}).setView([42.756,-75.8],7).fitBounds([[40.496103,-79.762152],[45.01585,-71.856214]]);let baseMapLayerNames=["Esri.WorldGrayCanvas","CartoDB.Positron","OpenStreetMap.Mapnik","Stadia.AlidadeSmooth"],basenMapLayers=Array(baseMapLayerNames.length).fill(null);baseMapLayerNames.forEach(((a,e)=>{$("#baseMapDIV").append('<a href="#" class="w3-bar-item w3-button" id="bmap{0}" onclick="switchBaseMap({0})">{1}</a>'.format(e,a+spaceStr)),basenMapLayers[e]=L.tileLayer.provider(a)})),switchBaseMap=a=>{let e=$("#bmap"+a).text();for(let t=0;t<baseMapLayerNames.length;++t)t!=a||e.includes(checkStr)?(basenMapLayers[t].removeFrom(map),$("#bmap"+t).text(baseMapLayerNames[t]+spaceStr)):(basenMapLayers[t].addTo(map),$("#bmap"+t).text(checkStr+baseMapLayerNames[t]))},switchBaseMap(0);let dataNames=["IRC Plan A","IRC Plan B","State Legislature","State Court"],jsonMapLayers=Array(4).fill(null);for(let a=0;a<dataNames.length;++a)jsonMapLayers[a]=L.topoJson(null,{style:function(a){return{color:"#000",opacity:1,weight:1,fillColor:"#35495d",fillOpacity:.5}},onEachFeature:function(a,e){e.bindPopup("<p>"+a.properties.name+"</p>")}}),fetch("./data/"+dataNames[a]+".topojson").then((a=>a.json())).then((e=>{jsonMapLayers[a].addData(e)}));jsonMapLayers[0].addTo(map),switchMapLayer=a=>{let e=$("#map"+a).text();e.includes(checkStr)?(jsonMapLayers[a].removeFrom(map),$("#map"+a).text(e.replace(checkStr,""))):(jsonMapLayers[a].addTo(map),$("#map"+a).text(checkStr+e))};